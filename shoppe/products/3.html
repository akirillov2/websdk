<!DOCTYPE html>
<html>
<title>Magic!</title>

<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
  <meta content="utf-8" http-equiv="encoding" />
  <link rel="stylesheet" href="../styles.css" />
  <script type="text/javascript" src="../utils.js"></script>
  <script>
    (function (e, n, t, o) {
      e.PeopleEventsObject = o; e[o] = e[o] || {
        init: function (n) { e[o].apiKey = n },
        setPerson: function (n) { e[o].person = n }, track: function () { (e[o].q = e[o].q || []).push(arguments) },
        updatePerson: function (n) { e[o].personToUpdate = { person: n } }
      }; var r = n.createElement("script");
      var s = n.getElementsByTagName("script")[0]; r.async = 1; r.src = t; s.parentNode.insertBefore(r, s)
    })
      (window, document, 'https://s3.eu-central-1.amazonaws.com/portal-cdn-production/people-events-sdk/pe.latest-1.js', 'pe');

    pe.init('INSERT_YOUR_API_KEY');
  </script>
</head>

<body>
  <header class="header">
    <div class="fake-counter"></div>
    <a class="delink" href="../shop.html">
      <h1>Magic shop</h1>
    </a>
    <div class="counter">
      <a class="delink" id="cart" href="../checkout.html"></a>
    </div>
  </header>
  <article class="product-content">
    <div class="product-image-container"><img class="product-image" src="../images/hat03.jpg" alt="donegal" /></div>
    <div class="product-details">
      <div class="product-name">Donegal</div>
      <div class="product-price">$33</div>
      <div class="product-description">100% Donegal Tweed. The Campden Baker-boy is hewn in delightful shades of
        sumptuous but tough Donegal Tweed. The excellent quality extends throughout the cap to the exceptional purple
        satin lining.</div>
      <button class="product-button-add" type="button" onclick="addToCart('donegal', 3)">
        Add to cart
      </button>
    </div>
  </article>
  <script>
    const user = getUser();
    pe.setPerson({ email: user.email });
    pe.track('itemview', { item: 'donegal' });

    updateCartView('cart');

    function addToCart(itemName, price) {
      addItemToCart(itemName, price);
      updateCartView('cart');
      pe.track('addtocart', { item: itemName, price: price, quantity: 1 });
    }
  </script>
</body>

</html>